{% extends 'layout.html' %}

{% block page_title %}New Media Portfolio - View Project{% endblock %}

{% block content %}

	<header>{{ title }}</header>
	
	<div id='themed' style='position: absolute; right: 0; margin-top: -30px;' >
		<a class='button' href="{{ flash['web_root'] }}/project/{{ project_id }}/edit" type="submit">Edit Project</a>
	</div>
	<hr>
	
	<p>{{ description }}</p>

	<div class='media_items'>
	{% for media in media_items %}
		<div class='media'>
			{% if media.mimetype in ['image/png', 'image/jpeg', 'image/gif'] %}
			<!-- Image -->
			<div class="title">{{ media.title }}</div>
			<img src="{{ flash['web_root'] }}/media/{{ media.filename }}"/>
			<div class="desc">{{ media.description }}</div>

			{% elseif media.mimetype in ['audio/mp32'] %}
			<!-- Audio -->
			<div class="title">{{ media.title }}</div>
			<div> Audio </div>
			<div class="desc">{{ media.description }}</div>
			{% elseif media.mimetype in ['video/mp4', 'video/ogv', 'video/webm'] %}
			<!-- Video -->
			<video controls="controls"> 
				<div class="title">{{ media.title }}</div>
				<source src="{{ flash['web_root'] }}/media/{{ media.filename }}" type="{{ media.mimetype }}" /> 				
				<!--
				<source src="" type="video/mp4" /> 
				<source src="" type="video/ogv" /> 
				<source src="" type="video/webm" />
  				-->
				Your browser does not support the video tag </video>
				<div class="desc">{{ media.description }}</div>

			{% elseif media.mimetype == '' %}
			<!-- Text -->
			<div class="title">{{ media.title }}</div>
			<p class="desc">{{ media.description }}</p>

			{% else %}
			<!-- A generic file -->
			<div class="title">{{ media.title }}</div>
			<div>File: <a href="{{ flash['web_root'] }}/media/{{ media.filename }}">{{ media.title }}</a></div>
			<div class="desc">{{ media.description }}</div>

			{% endif %}
		</div>
	{% endfor %}
	</div>	

{% endblock %}
